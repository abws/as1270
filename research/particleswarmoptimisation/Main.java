package research.particleswarmoptimisation;

import java.util.Arrays;

import research.api.java.*;

public class Main {
    public static void main(String[] args) throws Exception {
        WindScenario ws = new WindScenario("/Users/abdiwahabsalah/Documents/GitLab/as1270/research/api/Wind Competition/2014/competition_0.xml");

        KusiakLayoutEvaluator evaluator = new KusiakLayoutEvaluator();
        evaluator.initialize(ws);
        Problem problem = new Problem(evaluator, ws, 10, 300, 0);
        ParticleSwarmOptimisation pso = new ParticleSwarmOptimisation(problem.swarmSize, 1.3, 2.9, 0.4, 0.9, 20, 0.1, problem);

        pso.run();
        // double[] x = new double[] {578.0107226090845, 9850.721764292884, 1412.35924344541, 11276.10564892841, 1622.4926057041014, 5556.98871238092, 1815.2558518749565, 10143.815916822221, 1300.451447125186, 7756.53241580165, 2588.564120935574, 296.4257232523064, 609.5365037906855, 3413.7535849925684, 0.0, 8708.967938236161, 285.4124777745415, 13033.980221243963, 768.6278100194664, 13413.625975153805, 2245.072766642803, 11175.737250710674, 1635.4922931225694, 11102.522809351516, 1629.5585294645475, 3990.599742813338, 2390.179034550221, 9805.178043966427, 816.0302369214153, 0.0, 1834.4510158871174, 10391.901998785554, 847.5793607228329, 16100.0, 971.5466853561431, 112.32655542693294, 2548.9054299419995, 12123.811739597088, 688.0667575173992, 2401.817708684803, 2750.9346453238386, 5652.369930742647, 2360.408564529697, 7920.156914984468, 1153.0976369146865, 10137.69660102405, 262.3353198755239, 9191.364223412535, 220.24625388495872, 15391.937711440405, 1022.4438258671335, 9373.050489877178, 3356.0349733575317, 12285.772769565861, 2492.2886826356894, 880.6273388057425, 1337.7689953894617, 9864.373916398676, 819.5152069558865, 10363.41290848433, 3047.5692599963463, 923.4419030672426, 1459.278545183572, 2485.972059044309, 2112.0972942043672, 5518.487918114326, 1695.9782241715438, 12043.934309367873, 2211.3477979333165, 10018.829048772228, 2731.694590134729, 4833.261233102875, 3225.6212012552746, 0.0, 2182.1148546570307, 13839.573332507729, 1222.0028928869142, 0.0, 1907.1740678885596, 9160.17796701711, 888.6796176297532, 5496.21791448031, 800.6169389304221, 6161.5683670913095, 231.59095929985307, 11691.897571853679, 444.40376308962203, 13598.65570589896, 884.3410262858563, 16100.0, 828.4373782409132, 16100.0, 1917.2551429429134, 9239.214716598242, 1833.9713565839595, 8934.855585721205, 1598.3912036044278, 9053.965091618684, 3500.0, 2275.9845571807255, 1975.3935860231873, 2208.5119295906925, 921.3191937687349, 6056.690438529578, 0.0, 9474.099401642372, 2327.186498155475, 12726.860687462304, 1056.3842304551476, 0.0, 580.8702026029284, 5841.6736082747575, 731.912333207908, 16100.0, 2223.5314669639406, 13167.850284959586, 1404.1868471108173, 8389.57951141085, 1083.8359215625433, 9859.569575514843, 738.785114754362, 9799.557961615144, 3305.2827187177772, 8531.045118164213, 3284.101486475914, 2814.820275922907, 3500.0, 7979.143025785204, 3281.038641472782, 14342.569712343293, 2442.0742532882323, 14030.715318737333, 494.12198970145255, 11369.77949534074, 893.9371126614794, 16100.0, 2565.9041838656085, 2062.0079544525365, 3500.0, 13196.267584293404, 1834.3053511606313, 5524.553823889688, 2418.728790738567, 7465.99300814916, 1212.806070612106, 11134.016388967886, 2481.8508350646607, 12996.691604937492, 2049.96548198056, 2658.928712419791, 2616.468648352893, 11989.591925323566, 1257.9265070711008, 4508.051582208769, 613.5019309350073, 16100.0, 1067.6597757725795, 6369.866603143116, 1369.2529777186578, 13210.725134153023, 412.7863140256601, 8407.808535683922, 1113.1125614741723, 4070.161904559217, 2589.1936399252927, 11623.474880683847, 1348.833460267058, 6673.108174453989, 270.19778568790775, 7966.074117426062, 2072.503536521395, 11993.032648296596, 3350.523900206142, 16065.986496677942, 0.0, 8222.820238352133, 1025.7207352245805, 10362.810903448613, 1553.5244759384768, 9665.4857607557, 3477.556113417859, 3099.760516813145, 472.03563257174756, 2693.998409078527, 3500.0, 1037.9326548152558, 2965.9458188116914, 0.0, 346.76677569865024, 5813.684295310433, 2543.6657239160786, 4007.1670365202053, 3096.736302211159, 13045.19208741293, 1329.1208199120883, 1891.9543379673742, 1435.8763449228552, 15659.234535347603, 1388.4159166938148, 8453.736315409267, 3313.8041869607523, 13624.599357969008, 1778.890386507218, 4248.050658173859, 1257.7872752603112, 3921.57191457795, 1517.5409512334795, 9658.008006257938, 1897.1580418867552, 3451.0894678477016, 1372.3503390959647, 6493.34065014706, 3500.0, 14022.97033953801, 1610.1284246153862, 5566.030023864349, 2091.295059896932, 12821.560693636105, 498.33751767707554, 12033.374954328949, 3500.0, 13909.6867352437, 3019.004175651334, 8095.013942851078, 1330.837428826622, 14700.176437832408, 2507.7371045485943, 11857.770057168946, 2296.273893916008, 8260.048441435356, 2074.8000484917325, 13358.173530569718, 2155.092509252758, 0.0, 2904.653054186377, 5958.0772688398565, 2741.875237039051, 13222.066464473643, 1797.3149024055267, 8623.168111373456, 503.12516127327007, 16100.0, 2713.8481603394866, 10405.524074221416, 2330.7100965740515, 3602.1581725297674, 2954.8691599316767, 11177.279231333465, 2340.7945336321754, 0.0, 661.603267002523, 13467.064590407175, 973.521642817584, 4685.516202665487, 2791.451594392858, 15305.605469265536, 963.2966901778873, 12595.06027716431, 305.0459143840468, 12800.802287757317, 119.68515542597197, 11553.773902047848, 3129.1748374411463, 4605.401534132682, 931.907424293011, 5364.582827383706, 1239.6807158168172, 16100.0, 663.911135649656, 7624.041544273597, 3500.0, 9733.581183084469, 3500.0, 6893.627325212694, 413.83697163116904, 10837.82708355927, 3049.7800965426713, 11882.614920223143, 1387.0438431334464, 13371.463637947061, 3382.851145768406, 5150.545182693129, 1901.713850224659, 3854.666025824102, 2196.3205006724306, 3747.583899551447, 16.07724391864849, 4876.761195748587, 3019.0298291854424, 0.0, 538.33507733178, 5853.492568877457, 676.3803735521445, 15069.749839064305, 2457.753622915233, 6317.23697680486, 798.4413024681184, 0.0, 1783.92749210655, 11161.10282179189, 559.9035979862008, 9525.826747452802, 946.8547218317717, 16100.0, 1636.4685250585908, 11509.96920952006, 0.0, 7825.479729494478, 1722.790819350224, 13853.675081821579, 1274.838393973187, 11800.164937258682, 2186.480869579894, 12430.172579069864, 2696.161159132182, 14177.010179945111, 608.11410137258, 8999.268811040338, 1824.661644571127, 0.0, 2327.4033384106406, 6070.5743699559125, 372.31395550865915, 9113.341151045064, 683.502570667123, 8536.113597144895, 2917.454995241512, 15273.959962998899, 2836.3998084637424, 6236.752467582395, 1573.7008475515204, 9153.965932367997, 2899.69882590114, 11671.292338436991, 2109.059369401697, 1118.364164550625, 1875.7427454928456, 7529.095248039446, 3304.8342726906308, 1585.2762850866402, 1753.9691614418791, 399.87954724398514, 2362.3523994054153, 4664.741098840661, 1779.8107006025034, 7313.355580012693, 0.0, 9743.351208068774, 2505.6477988512265, 8814.696400957064, 978.9920882621509, 7059.230473830835, 2815.2489264547435, 12044.152332058164, 2344.0969937659174, 10618.347614785373, 870.1870712719152, 4776.043623259884, 179.63053831251773, 16100.0, 2274.372735516743, 10431.17625915431, 1305.9264485274036, 3480.385869716981, 763.196227641421, 1323.6644713474566, 1695.2866700288507, 0.0, 2153.195235806086, 1268.0688882666918, 3443.3401495407747, 16100.0, 2232.414579615304, 12856.303548269829, 3278.266497791585, 6746.128449977124, 3116.8394096655834, 6506.876892355531, 0.0, 14105.123092694743, 2207.229748328053, 12243.837256518535, 1519.5550142399973, 9434.647016928324, 1494.1489827458931, 7640.2697033056975, 2513.852775333019, 5006.507872585246, 1628.7840187141665, 13518.721506339138, 2649.165892953596, 12543.178598686593, 3132.4039169535945, 9679.14836013032, 998.8107711449125, 5338.251429297933, 3355.853420132063, 6434.700461797607, 2920.7436504557995, 13128.484850202727, 1294.3339429512655, 7909.904786036075, 3500.0, 11255.243577780675, 841.5484624488453, 6154.386591732446, 2644.2231008702975, 1250.6184980617695, 2540.838044052826, 12420.430276003734, 79.39506523650016, 11630.114674234363, 3059.9901895541357, 12685.497255630075, 3076.522109786198, 12149.648321005137, 2370.5721983839594, 5899.4161520410435, 3086.9036479805045, 3853.166278256089, 1381.7479361697299, 10542.356873040531, 0.0, 11644.9154597089, 1422.8734843269865, 6855.662477222295, 686.4343565356583, 4930.173952393636, 1373.4805804531973, 3870.908800556836, 0.0, 7422.348395119539, 2551.635738645208, 11657.377568615906, 3023.650297084923, 10329.38006772298, 2287.0507924224285, 7343.195917586384, 2424.5688132857854, 7240.61747999187};

        // System.out.println(problem.evaluate(x));
        // System.out.println(evaluator.getEnergyOutputs()[0].length);

        // t(evaluator.getTurbineFitnesses());


    }

    private static void t(String t) {
        System.out.println(t);
    }
    private static void t(double t) {
        System.out.println(t);
    }
    private static void t(double[][] t) {
        System.out.println(Arrays.deepToString(t));
    }
    private static void t(double[] t) {
        System.out.println(Arrays.toString(t));
    }
}
